(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56f25c12"],{"2ff4":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-view-slot",{scopedSlots:t._u([{key:"router-view",fn:function(){return[a("a-card",{attrs:{bordered:!1}},[a("a-form-model",{attrs:{model:t.form,rules:t.rules,layout:"vertical"}},[a("a-form-model-item",{attrs:{label:"标题",prop:"title"}},[a("a-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("a-form-model-item",{attrs:{label:"内容"}},[a("mavon-editor",t._b({staticClass:"mk-container",staticStyle:{height:"100%"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}},"mavon-editor",t.markdownOption,!1))],1),a("a-form-model-item",{attrs:{label:"信息时间",prop:"info_at"}},[a("a-date-picker",{attrs:{"show-time":"","value-format":"YYYY-MM-DD HH:mm:ss",value:t.form.info_at},on:{change:t.infoAtChange,ok:t.infoAtChange}})],1),a("a-form-model-item",{attrs:{label:"Slug",prop:"slug"}},[a("a-input",{model:{value:t.form.slug,callback:function(e){t.$set(t.form,"slug",e)},expression:"form.slug"}})],1),a("a-form-model-item",{attrs:{label:"标签",prop:"tags"}},[a("a-select",{attrs:{mode:"tags","default-value":t.form.tags},on:{change:t.tagChange}},t._l(t.tags,(function(e){return a("a-select-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),a("div",{staticClass:"item-max-width"},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{attrs:{"default-value":t.form.status},on:{change:t.statusChange}},t._l(t.statuses,(function(e){return a("a-select-option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.value))])})),1)],1)],1),a("a-form-model-item",[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:t.create}},[t._v(" 创建 ")]),a("a-button",{on:{click:function(e){return t.$router.push({path:"/article"})}}},[t._v(" 取消 ")])],1)],1)],1)],1)]},proxy:!0}])})},n=[],o=(a("96cf"),a("c964")),s=a("c5de"),i=a("b2d8"),c=(a("64e1"),a("dde5")),u={name:"Add",components:{PageViewSlot:s["a"],mavonEditor:i["mavonEditor"]},data:function(){return{markdownOption:{subfield:!1,defaultOpen:"edit",editable:!0,boxShadow:!0},form:{slug:void 0,title:"",tags:void 0,content:"",status:1,info_at:""},rules:{title:[{required:!0,message:"标题是啥",trigger:"blur"}],content:[{required:!0,message:"写点什么",trigger:"blur"}]},createLoading:!1,statuses:[],tags:[]}},mounted:function(){this.getStatuses(),this.getTags()},methods:{create:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.createLoading=!0,e.next=3,c["a"].create(t.form);case 3:a=e.sent,t.createLoading=!1,0===a.data.code?t.$message.success("添加成功"):t.$message.error(a.data.msg);case 6:case"end":return e.stop()}}),e)})))()},getStatuses:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].statuses();case 2:a=e.sent,0===a.data.code&&(t.statuses=a.data.data.items);case 4:case"end":return e.stop()}}),e)})))()},getTags:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c["a"].tags();case 2:a=e.sent,0===a.data.code&&(t.tags=a.data.data.items);case 4:case"end":return e.stop()}}),e)})))()},statusChange:function(t){this.form.status=t},tagChange:function(t){this.form.tags=t},infoAtChange:function(t){this.form.info_at=t}}},l=u,m=(a("c464"),a("2877")),f=Object(m["a"])(l,r,n,!1,null,"e0d95a82",null);e["default"]=f.exports},c464:function(t,e,a){"use strict";a("cc54")},cc54:function(t,e,a){}}]);
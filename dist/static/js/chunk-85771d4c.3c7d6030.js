(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-85771d4c"],{"7ce3":function(t,e,a){},bfbf:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-view-slot",{scopedSlots:t._u([{key:"router-view",fn:function(){return[a("a-card",{attrs:{bordered:!1}},[a("a-form-model",{attrs:{model:t.form,rules:t.rules,layout:"vertical"}},[a("a-form-model-item",{attrs:{label:"标题",prop:"title"}},[a("a-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),a("a-form-model-item",{attrs:{label:"标签",prop:"tags"}},[a("a-select",{attrs:{mode:"tags",value:t.form.tags},on:{change:t.tagChange}},t._l(t.tags,(function(e){return a("a-select-option",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),1)],1),["ORI"].includes(t.form.platform)?a("a-form-item",{attrs:{label:"内容"}},[a("mavon-editor",t._b({staticClass:"mk-container",staticStyle:{height:"100%"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}},"mavon-editor",t.markdownOption,!1))],1):t._e(),a("a-form-model-item",{attrs:{label:"信息时间",prop:"info_at"}},[a("a-date-picker",{attrs:{"show-time":"","value-format":"YYYY-MM-DD HH:mm:ss",value:t.form.info_at},on:{change:t.infoAtChange,ok:t.infoAtChange}})],1),a("div",{staticClass:"item-max-width"},[a("a-form-model-item",{attrs:{label:"状态"}},[a("a-select",{attrs:{"dropdown-class-name":"item-min-width",value:t.form.status},on:{change:t.statusChange}},t._l(t.statuses,(function(e){return a("a-select-option",{key:e.key,attrs:{value:e.key}},[t._v(t._s(e.value))])})),1)],1)],1),a("a-form-model-item",[a("a-space",[a("a-button",{attrs:{type:"primary"},on:{click:t.update}},[t._v(" 更新 ")]),a("a-button",{on:{click:function(e){return t.$router.push({path:"/article"})}}},[t._v(" 取消 ")])],1)],1)],1)],1)]},proxy:!0}])})},n=[],o=(a("96cf"),a("c964")),s=a("c5de"),i=a("b2d8"),u=(a("64e1"),a("dde5")),c={name:"ArticleUpdate",components:{PageViewSlot:s["a"],mavonEditor:i["mavonEditor"]},data:function(){return{markdownOption:{subfield:!0,defaultOpen:"edit",editable:!0,toolbarsFlag:!0,boxShadow:!0},form:{title:"",platform:"ORI",tags:void 0,content:"",status:0,info_at:""},rules:{title:[{required:!0,message:"请输入名称",trigger:"blur"}]},createLoading:!1,id:0,statuses:[],tags:[]}},mounted:function(){var t=this.$route.query.id;this.id=t,this.edit(t),this.getStatuses(),this.getTags()},methods:{edit:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,u["a"].edit(t);case 2:r=a.sent,0===r.data.code&&(e.form=r.data.data.item);case 4:case"end":return a.stop()}}),a)})))()},update:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].update(t.id,t.form);case 2:a=e.sent,0===a.data.code&&t.$message.success("更新成功");case 4:case"end":return e.stop()}}),e)})))()},getStatuses:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].statuses();case 2:a=e.sent,0===a.data.code&&(t.statuses=a.data.data.items);case 4:case"end":return e.stop()}}),e)})))()},getTags:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].tags();case 2:a=e.sent,0===a.data.code&&(t.tags=a.data.data.items);case 4:case"end":return e.stop()}}),e)})))()},statusChange:function(t){this.form.status=t},tagChange:function(t){this.form.tags=t},infoAtChange:function(t){this.form.info_at=t}}},m=c,l=(a("fdbe"),a("2877")),d=Object(l["a"])(m,r,n,!1,null,"7d12754c",null);e["default"]=d.exports},fdbe:function(t,e,a){"use strict";a("7ce3")}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35cf3082"],{"0d65":function(t,e,i){},"487a":function(t,e,i){(function(e,i){t.exports=i()})(0,(function(){"use strict";var t="@@InfiniteScroll",e=function(t,e){var i,n,a,o,r,s=function(){t.apply(o,r),n=i};return function(){if(o=this,r=arguments,i=Date.now(),a&&(clearTimeout(a),a=null),n){var t=e-(i-n);t<0?s():a=setTimeout((function(){s()}),t)}else s()}},i=function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},n=document.defaultView.getComputedStyle,a=function(t){var e=t;while(e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType){var i=n(e).overflowY;if("scroll"===i||"auto"===i)return e;e=e.parentNode}return window},o=function(t){return t===window?document.documentElement.clientHeight:t.clientHeight},r=function(t){return t===window?i(window):t.getBoundingClientRect().top+i(window)},s=function(t){var e=t.parentNode;while(e){if("HTML"===e.tagName)return!0;if(11===e.nodeType)return!1;e=e.parentNode}return!1},l=function(){if(!this.binded){this.binded=!0;var t=this,i=t.el,n=i.getAttribute("infinite-scroll-throttle-delay"),o=200;n&&(o=Number(t.vm[n]||n),(isNaN(o)||o<0)&&(o=200)),t.throttleDelay=o,t.scrollEventTarget=a(i),t.scrollListener=e(c.bind(t),t.throttleDelay),t.scrollEventTarget.addEventListener("scroll",t.scrollListener),this.vm.$on("hook:beforeDestroy",(function(){t.scrollEventTarget.removeEventListener("scroll",t.scrollListener)}));var r=i.getAttribute("infinite-scroll-disabled"),s=!1;r&&(this.vm.$watch(r,(function(e){t.disabled=e,!e&&t.immediateCheck&&c.call(t)})),s=Boolean(t.vm[r])),t.disabled=s;var l=i.getAttribute("infinite-scroll-distance"),u=0;l&&(u=Number(t.vm[l]||l),isNaN(u)&&(u=0)),t.distance=u;var f=i.getAttribute("infinite-scroll-immediate-check"),d=!0;f&&(d=Boolean(t.vm[f])),t.immediateCheck=d,d&&c.call(t);var m=i.getAttribute("infinite-scroll-listen-for-event");m&&t.vm.$on(m,(function(){c.call(t)}))}},c=function(t){var e=this.scrollEventTarget,n=this.el,a=this.distance;if(!0===t||!this.disabled){var s=i(e),l=s+o(e),c=!1;if(e===n)c=e.scrollHeight-l<=a;else{var u=r(n)-r(e)+n.offsetHeight+s;c=l+a>=u}c&&this.expression&&this.expression()}},u={bind:function(e,i,n){e[t]={el:e,vm:n.context,expression:i.value};var a=arguments;e[t].vm.$on("hook:mounted",(function(){e[t].vm.$nextTick((function(){s(e)&&l.call(e[t],a),e[t].bindTryCount=0;var i=function i(){e[t].bindTryCount>10||(e[t].bindTryCount++,s(e)?l.call(e[t],a):setTimeout(i,50))};i()}))}))},unbind:function(e){e&&e[t]&&e[t].scrollEventTarget&&e[t].scrollEventTarget.removeEventListener("scroll",e[t].scrollListener)}},f=function(t){t.directive("InfiniteScroll",u)};return window.Vue&&(window.infiniteScroll=u,Vue.use(f)),u.install=f,u}))},"960a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-view-slot",{staticClass:"no-page-header",attrs:{"show-header":!1},scopedSlots:t._u([{key:"router-view",fn:function(){return[i("div",{staticClass:"worldline-container",style:{height:t.worldlineContainerHeight}},[i("div",{staticClass:"worldline-action-bar beauty-scroll"},[i("div",{staticClass:"platform-type"},[i("a-space",[t._l(t.platformTypes,(function(e){return[t.platformTypes.length>0?[i("a-button",{key:e.key,staticClass:"platform-type-btn",attrs:{type:e.key===t.platformType?"primary":"link",size:"small"},on:{click:function(i){return t.changePlatformType(e.key)}}},[t._v(" "+t._s(e.value)+" "),e.key===t.platformType&&0!==t.total?[t._v(" / "+t._s(t.total)+" ")]:t._e()],2)]:t._e()]}))],2)],1)]),i("div",{staticClass:"list-container",style:{height:t.listContainerHeight}},[i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"list-content",style:{height:t.listContainerHeight},attrs:{"infinite-scroll-delay":"1000","infinite-scroll-disabled":"busy","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"true"}},[t._l(t.items,(function(e){return[i("div",{key:e.slug,staticClass:"list-item"},["yuque_note"===e.platform_type?i("div",[t._v(" "+t._s(e.content)+" ")]):t._e(),["douban_movie","douban_movie_do","douban_movie_wish","conteworld_talk"].includes(e.platform_type)?i("div",[t._v(" "+t._s(e.content)+" ")]):t._e(),i("div",{staticClass:"info"},[i("span",{staticClass:"time"},["douban"===e.platform?[t._v(" "+t._s(t.dayjs(e.platform_created_at).format("YYYY-MM-DD"))+" ")]:[t._v(" "+t._s(t.dayjs(e.platform_created_at).format("YYYY-MM-DD HH:mm:ss"))+" ")]],2),i("span",{staticClass:"platform-type"},[t._v(t._s(e.platform_type_des.value))])])])]}))],2)])])]},proxy:!0}])})},a=[],o=(i("99af"),i("96cf"),i("c964")),r=i("2ef0"),s=i.n(r),l=i("5a0c"),c=i.n(l),u=i("487a"),f=i.n(u),d=i("c5de"),m=i("dde5"),p={name:"Worldline",i18n:i("bf52"),directives:{infiniteScroll:f.a},components:{PageViewSlot:d["a"]},data:function(){return{items:[],offset:0,platformType:"",limit:20,busy:!1,total:0,dayjs:c.a,platformTypes:[{key:"",value:"全部"}],pageHeight:window.innerHeight}},computed:{worldlineContainerHeight:function(){return this.pageHeight-64+"px"},listContainerHeight:function(){return this.pageHeight-64-50-1+"px"}},created:function(){this.index(),this.getPlatformTypes();var t=this;window.onresize=function(){return function(){t.pageHeight=window.innerHeight}()}},methods:{init:function(){this.items=[],this.offset=0,this.busy=!1,this.total=0},index:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i,n,a,o,r,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.offset,n=t.limit,a=t.platformType,e.next=3,m["m"].index({offset:i,limit:n,platformType:a});case 3:o=e.sent,r=o.data.data,l=r.items,c=r.totalCount,t.total=c,l.length>0?(t.items=s.a.concat(t.items,l),t.busy=!1):t.busy=!0;case 7:case"end":return e.stop()}}),e)})))()},loadMore:function(){this.offset+=this.limit,this.index()},getPlatformTypes:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["m"].platformTypes();case 2:i=e.sent,t.platformTypes=s.a.concat(t.platformTypes,i.data.data.items);case 4:case"end":return e.stop()}}),e)})))()},changePlatformType:function(t){this.platformType=t,this.init(),this.index()}}},h=p,v=(i("9a0c"),i("2877")),g=Object(v["a"])(h,n,a,!1,null,"2164ee3e",null),y=g.exports;e["default"]=y},"9a0c":function(t,e,i){"use strict";i("0d65")},bf52:function(t,e){t.exports={messages:{CN:{form:{platform:"平台",tags:"标签",title:"标题",published_at:"发布时间",info_at:"信息时间"}},HK:{form:{platform:"平台",title:"标题",tags:"标签",published_at:"发布时间",info_at:"信息时间"}},US:{form:{platform:"Platform",title:"Title",tags:"Tag",published_at:"Publish Time",info_at:"Information Time"}}}}},c5de:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-layout",{attrs:{desc:t.desc,"link-list":t.linkList,"show-header":t.showHeader}},[t.extraImage&&!t.isMobile?i("div",{staticClass:"extraImg",attrs:{slot:"extra"},slot:"extra"},[i("img",{attrs:{src:t.extraImage}})]):t._e(),i("page-toggle-transition",{attrs:{disabled:t.animate.disabled,animate:t.animate.name,direction:t.animate.direction}},[t._t("router-view")],2)],1)},a=[],o=i("f3f3"),r=i("45eb"),s=i("7664"),l=i("5880"),c={name:"PageView",components:{PageToggleTransition:s["a"],PageLayout:r["a"]},props:{showHeader:{type:Boolean,default:!0}},data:function(){return{page:{desc:"",linkList:[],extraImage:""}}},computed:Object(o["a"])(Object(o["a"])({},Object(l["mapState"])("setting",["isMobile","multiPage","animate"])),{},{desc:function(){return this.page.desc},linkList:function(){return this.page.linkList},extraImage:function(){return this.page.extraImage}})},u=c,f=(i("e1df"),i("2877")),d=Object(f["a"])(u,n,a,!1,null,"9a8bef78",null);e["a"]=d.exports},e1df:function(t,e,i){"use strict";i("e930")},e930:function(t,e,i){}}]);
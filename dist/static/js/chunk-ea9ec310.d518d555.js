(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea9ec310"],{"56b3":function(e,t,r){},6188:function(e,t,r){"use strict";r("56b3")},aa02:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",{attrs:{bordered:!1}},[r("div",[r("div",{staticClass:"operator"},[r("a-button",{attrs:{type:"primary"},on:{click:e.showAdd}},[e._v(e._s(e.$t("add")))])],1),r("a-table",{attrs:{"row-key":"id","data-source":e.items,columns:e.columns,bordered:!0,pagination:e.pagination,scroll:{x:1e3}},on:{change:e.handleTableChange},scopedSlots:e._u([{key:"common",fn:function(t){return r("span",{},[t?[e._v(" "+e._s(t)+" ")]:[e._v(" - ")]],2)}},{key:"auth",fn:function(t){return r("span",{},e._l(t,(function(t){return r("a-tag",{key:t,attrs:{color:"grey"}},[e._v(" "+e._s(t)+" ")])})),1)}},{key:"status",fn:function(t){return r("span",{},[r("a-tag",{attrs:{color:e.statuses[t].color}},[e._v(" "+e._s(e.statuses[t].name)+" ")])],1)}},{key:"action",fn:function(t,a){return r("span",{},[r("a",{on:{click:function(t){return e.showEdit(a.id)}}},[e._v(e._s(e.$t("edit")))]),r("a-divider",{attrs:{type:"vertical"}}),r("a-popconfirm",{attrs:{title:e.$t("delConfirm"),"ok-text":"Yes","cancel-text":"No"},on:{confirm:function(t){return e.destroy(a.id)}}},[r("a",{attrs:{href:"#"}},[e._v(e._s(e.$t("delete")))])])],1)}}])}),r("a-drawer",{attrs:{title:e.$emptyObj(e.current)?e.$t("add"):e.$t("edit"),width:720,visible:e.drawerVisible,"body-style":{paddingBottom:"80px"}},on:{close:e.drawerClose}},[r("a-form-model",{ref:"drawerForm",attrs:{model:e.form,rules:e.rules,layout:"vertical"}},[r("a-row",{attrs:{gutter:16}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:e.$t("form.auth"),prop:"auth"}},[r("a-checkbox-group",{model:{value:e.form.auth,callback:function(t){e.$set(e.form,"auth",t)},expression:"form.auth"}},e._l(e.authList,(function(t){return r("a-checkbox",{key:t.key,attrs:{value:t.key,name:"auth"}},[e._v(" "+e._s(t.des)+" ")])})),1)],1)],1)],1),r("a-row",{attrs:{gutter:16}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:e.$t("form.expired"),prop:"expired"}},[r("a-date-picker",{staticStyle:{width:"100%"},attrs:{"show-time":"",type:"date",placeholder:"Pick a date","value-format":"YYYY-MM-DD HH:mm:ss"},model:{value:e.form.expired,callback:function(t){e.$set(e.form,"expired",t)},expression:"form.expired"}})],1)],1)],1)],1),r("div",{staticClass:"drawBottom"},[r("a-space",[r("a-button",{on:{click:e.resetForm}},[e._v(" "+e._s(e.$t("reset"))+" ")]),r("a-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submit}},[e._v(" "+e._s(e.$t("submit"))+" ")])],1)],1)],1)],1)])},n=[],s=(r("96cf"),r("c964")),i=r("f3f3"),o=r("dde5"),u={name:"Token",i18n:r("c231"),data:function(){return{items:[],page:1,per_page:10,columns:[{title:"ID",dataIndex:"id",fixed:"left",width:60},{title:this.$t("form.token"),dataIndex:"token",width:300,ellipsis:!0},{title:this.$t("form.auth"),dataIndex:"auth",scopedSlots:{customRender:"auth"}},{title:this.$t("form.expired"),dataIndex:"expired",width:200,scopedSlots:{customRender:"common"}},{title:this.$t("status"),dataIndex:"status",width:100,scopedSlots:{customRender:"status"}},{title:this.$t("action"),key:"action",fixed:"right",width:120,scopedSlots:{customRender:"action"}}],pagination:{},current:{},drawerVisible:!1,statuses:[],authList:[],formInit:{token:"",auth:[],expired:void 0,status:1},form:{token:"",auth:[],expired:void 0,status:1},rules:{auth:[{required:!0,message:"请选择权限",trigger:"blur"}],expired:[{required:!1}],status:[{required:!0,message:"请选择状态",trigger:"blur"}]},submitLoading:!1}},mounted:function(){this.initIndex(),this.getStatuses()},methods:{handleTableChange:function(e){var t=Object(i["a"])({},this.pagination);t.current=e.current,this.pagination=t,this.index({page:e.current,per_page:e.pageSize})},index:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o["k"].index(e);case 2:a=r.sent,t.items=a.data.data.items,n=Object(i["a"])({},t.pagination),n.total=a.data.data.total_count,t.pagination=n;case 7:case"end":return r.stop()}}),r)})))()},initIndex:function(){var e={page:this.page,per_page:this.per_page};this.index(e);var t=Object(i["a"])({},this.pagination);t.current=this.page,this.pagination=t},getStatuses:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["k"].statuses();case 2:r=t.sent,0===r.data.code&&(e.statuses=r.data.data.items);case 4:case"end":return t.stop()}}),t)})))()},showAdd:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,o["k"].authList();case 2:r=t.sent,0===r.data.code&&(e.authList=r.data.data.items),e.drawerVisible=!0,e.$nextTick((function(){e.codeInputDisable=!1,e.form=e.formInit,e.current={},e.$refs.drawerForm.resetFields()}));case 6:case"end":return t.stop()}}),t)})))()},showEdit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o["k"].authList();case 2:return a=r.sent,0===a.data.code&&(t.authList=a.data.data.items),r.next=6,o["k"].edit(e);case 6:n=r.sent,0===n.data.code?(s=n.data.data.item,t.drawerVisible=!0,t.codeInputDisable=!0,t.$nextTick((function(){t.current=s,t.form=s,t.$refs.drawerForm.resetFields()}))):t.$message.error(n.data.msg?n.data.msg:t.$t("result.editError"));case 8:case"end":return r.stop()}}),r)})))()},submit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.drawerForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=16;break}if(e.submitLoading=!0,a={},!e.$emptyObj(e.current)){t.next=9;break}return t.next=6,o["k"].create(e.form);case 6:a=t.sent,t.next=12;break;case 9:return t.next=11,o["k"].update(e.current.id,e.form);case 11:a=t.sent;case 12:e.submitLoading=!1,0===a.data.code?(e.$message.success(e.$t("result.success")),e.drawerVisible=!1,e.initIndex()):e.$message.error(a.data.msg?a.data.msg:e.$t("result.error")),t.next=17;break;case 16:return t.abrupt("return",!1);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},destroy:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,o["k"].destroy(e);case 2:a=r.sent,0===a.data.code?(t.$message.success(t.$t("result.success")),t.initIndex()):t.$message.error(a.data.msg?a.data.msg:t.$t("result.error"));case 4:case"end":return r.stop()}}),r)})))()},resetForm:function(){this.$refs.drawerForm.resetFields()},drawerClose:function(){this.drawerVisible=!1}}},c=u,d=(r("6188"),r("2877")),m=Object(d["a"])(c,a,n,!1,null,"6c9c9830",null),l=m.exports;t["default"]=l},c231:function(e,t){e.exports={messages:{CN:{addTitle:"添加",form:{token:"Token",auth:"权限",expired:"过期时间"},result:{addSuccess:"添加成功！",addError:"添加失败!"}},HK:{addDrawerTitle:"添加",form:{token:"Token",auth:"权限",expired:"过期时间"},result:{addSuccess:"添加成功！",addError:"添加失败!"}},US:{addDrawerTitle:"Add",form:{token:"Token",auth:"Auth",expired:"Expired Time"},result:{addSuccess:"Add Success！",addError:"Add Failed!"}}}}}}]);